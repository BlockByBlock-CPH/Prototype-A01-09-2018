{"id":"Focm","dependencies":[{"name":"/home/max/Desktop/BlockByBlock/ProjectBBB/Prototype/BlockByBlock/package.json","includedInParent":true,"mtime":1537270485797},{"name":"./classes/map","loc":{"line":2,"column":19},"parent":"/home/max/Desktop/BlockByBlock/ProjectBBB/Prototype/BlockByBlock/index.js","resolved":"/home/max/Desktop/BlockByBlock/ProjectBBB/Prototype/BlockByBlock/classes/map.js"},{"name":"./classes/layer","loc":{"line":3,"column":21},"parent":"/home/max/Desktop/BlockByBlock/ProjectBBB/Prototype/BlockByBlock/index.js","resolved":"/home/max/Desktop/BlockByBlock/ProjectBBB/Prototype/BlockByBlock/classes/layer.js"},{"name":"./classes/mgm_query","loc":{"line":4,"column":21},"parent":"/home/max/Desktop/BlockByBlock/ProjectBBB/Prototype/BlockByBlock/index.js","resolved":"/home/max/Desktop/BlockByBlock/ProjectBBB/Prototype/BlockByBlock/classes/mgm_query.js"}],"generated":{"js":"\"use strict\";var e=require(\"./classes/map\"),s=n(e),t=require(\"./classes/layer\"),l=n(t),a=require(\"./classes/mgm_query\"),r=n(a);function n(e){return e&&e.__esModule?e:{default:e}}var i=new s.default,o=new l.default,u=new r.default;i.createBaseMap(),$(\"#btn_timeline\").click(function(e){e.preventDefault();var s=$(\"#search_address\").val();$(\"#list_suggestions\").empty(),i.removeOldAddress(i.map),u.addressCoord(s),$(\"#list_suggestions\").on(\"click\",\"li #element\",function(e){var s=$(\"#select_day\").val(),t=e.target.childNodes[1].value,l=e.target.childNodes[3].value;$(\"#list_suggestions\").empty();var a=[parseFloat(t),parseFloat(l)],r=u.findQuery(a,s);0==s?o.getPolygon2(r[0],r[1],r[2]).then(function(e){u.runTimelineWeek(e[0],e[1],e[2],i,a)}):s>0?o.getPolygon(r).then(function(e){u.runTimelineDay(e,i,a)}):console.log(\"Error choosing timeline\"),u.tableQueries(a,s),i.centerAddress(i.map,a),$(\"#btnModalTop\").css(\"display\",\"block\"),u.topQueries(s)})});","map":{"mappings":[{"source":"index.js","original":{"line":12,"column":2},"generated":{"line":1,"column":0}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":13}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":17}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":19}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":27}},{"source":"index.js","original":{"line":12,"column":2},"generated":{"line":1,"column":44}},{"source":"index.js","original":{"line":12,"column":2},"generated":{"line":1,"column":46}},{"source":"index.js","original":{"line":12,"column":2},"generated":{"line":1,"column":48}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":51}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":53}},{"source":"index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":61}},{"source":"index.js","original":{"line":12,"column":2},"generated":{"line":1,"column":80}},{"source":"index.js","original":{"line":12,"column":2},"generated":{"line":1,"column":82}},{"source":"index.js","original":{"line":12,"column":2},"generated":{"line":1,"column":84}},{"source":"index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":87}},{"source":"index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":89}},{"source":"index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":97}},{"source":"index.js","original":{"line":12,"column":2},"generated":{"line":1,"column":120}},{"source":"index.js","original":{"line":12,"column":2},"generated":{"line":1,"column":122}},{"source":"index.js","original":{"line":12,"column":2},"generated":{"line":1,"column":124}},{"source":"index.js","original":{"line":12,"column":2},"generated":{"line":1,"column":127}},{"source":"index.js","original":{"line":12,"column":2},"generated":{"line":1,"column":136}},{"source":"index.js","original":{"line":12,"column":2},"generated":{"line":1,"column":138}},{"source":"index.js","original":{"line":12,"column":2},"generated":{"line":1,"column":141}},{"source":"index.js","original":{"line":12,"column":2},"generated":{"line":1,"column":148}},{"source":"index.js","original":{"line":12,"column":2},"generated":{"line":1,"column":151}},{"source":"index.js","original":{"line":12,"column":2},"generated":{"line":1,"column":153}},{"source":"index.js","original":{"line":12,"column":2},"generated":{"line":1,"column":164}},{"source":"index.js","original":{"line":12,"column":2},"generated":{"line":1,"column":166}},{"source":"index.js","original":{"line":12,"column":2},"generated":{"line":1,"column":167}},{"source":"index.js","original":{"line":12,"column":2},"generated":{"line":1,"column":175}},{"source":"index.js","original":{"line":7,"column":0},"generated":{"line":1,"column":178}},{"source":"index.js","name":"mapBase","original":{"line":7,"column":6},"generated":{"line":1,"column":182}},{"source":"index.js","original":{"line":7,"column":16},"generated":{"line":1,"column":184}},{"source":"index.js","name":"MapBBB","original":{"line":7,"column":20},"generated":{"line":1,"column":188}},{"source":"index.js","original":{"line":7,"column":16},"generated":{"line":1,"column":190}},{"source":"index.js","name":"layer","original":{"line":8,"column":6},"generated":{"line":1,"column":198}},{"source":"index.js","original":{"line":8,"column":14},"generated":{"line":1,"column":200}},{"source":"index.js","name":"LayerBBB","original":{"line":8,"column":18},"generated":{"line":1,"column":204}},{"source":"index.js","original":{"line":8,"column":14},"generated":{"line":1,"column":206}},{"source":"index.js","name":"mgm_query","original":{"line":9,"column":6},"generated":{"line":1,"column":214}},{"source":"index.js","original":{"line":9,"column":18},"generated":{"line":1,"column":216}},{"source":"index.js","name":"MgmQuery","original":{"line":9,"column":22},"generated":{"line":1,"column":220}},{"source":"index.js","original":{"line":9,"column":18},"generated":{"line":1,"column":222}},{"source":"index.js","name":"mapBase","original":{"line":10,"column":0},"generated":{"line":1,"column":230}},{"source":"index.js","name":"createBaseMap","original":{"line":10,"column":8},"generated":{"line":1,"column":232}},{"source":"index.js","name":"$","original":{"line":12,"column":2},"generated":{"line":1,"column":248}},{"source":"index.js","original":{"line":12,"column":4},"generated":{"line":1,"column":250}},{"source":"index.js","name":"click","original":{"line":12,"column":21},"generated":{"line":1,"column":267}},{"source":"index.js","original":{"line":12,"column":27},"generated":{"line":1,"column":273}},{"source":"index.js","name":"event","original":{"line":12,"column":36},"generated":{"line":1,"column":282}},{"source":"index.js","name":"preventDefault","original":{"line":13,"column":8},"generated":{"line":1,"column":285}},{"source":"index.js","name":"preventDefault","original":{"line":13,"column":8},"generated":{"line":1,"column":287}},{"source":"index.js","name":"search_address","original":{"line":14,"column":8},"generated":{"line":1,"column":304}},{"source":"index.js","name":"search_address","original":{"line":14,"column":8},"generated":{"line":1,"column":308}},{"source":"index.js","name":"$","original":{"line":14,"column":25},"generated":{"line":1,"column":310}},{"source":"index.js","original":{"line":14,"column":27},"generated":{"line":1,"column":312}},{"source":"index.js","name":"val","original":{"line":14,"column":46},"generated":{"line":1,"column":331}},{"source":"index.js","original":{"line":15,"column":5},"generated":{"line":1,"column":337}},{"source":"index.js","original":{"line":15,"column":5},"generated":{"line":1,"column":339}},{"source":"index.js","name":"empty","original":{"line":15,"column":27},"generated":{"line":1,"column":360}},{"source":"index.js","name":"removeOldAddress","original":{"line":18,"column":10},"generated":{"line":1,"column":368}},{"source":"index.js","name":"removeOldAddress","original":{"line":18,"column":10},"generated":{"line":1,"column":370}},{"source":"index.js","name":"mapBase","original":{"line":18,"column":27},"generated":{"line":1,"column":387}},{"source":"index.js","name":"map","original":{"line":18,"column":35},"generated":{"line":1,"column":389}},{"source":"index.js","name":"addressCoord","original":{"line":19,"column":12},"generated":{"line":1,"column":394}},{"source":"index.js","name":"addressCoord","original":{"line":19,"column":12},"generated":{"line":1,"column":396}},{"source":"index.js","name":"search_address","original":{"line":19,"column":25},"generated":{"line":1,"column":409}},{"source":"index.js","original":{"line":21,"column":4},"generated":{"line":1,"column":412}},{"source":"index.js","original":{"line":21,"column":4},"generated":{"line":1,"column":414}},{"source":"index.js","name":"on","original":{"line":21,"column":25},"generated":{"line":1,"column":435}},{"source":"index.js","original":{"line":21,"column":28},"generated":{"line":1,"column":438}},{"source":"index.js","original":{"line":21,"column":37},"generated":{"line":1,"column":446}},{"source":"index.js","original":{"line":21,"column":52},"generated":{"line":1,"column":460}},{"source":"index.js","name":"event","original":{"line":21,"column":61},"generated":{"line":1,"column":469}},{"source":"index.js","name":"select_day","original":{"line":22,"column":10},"generated":{"line":1,"column":472}},{"source":"index.js","name":"select_day","original":{"line":22,"column":10},"generated":{"line":1,"column":476}},{"source":"index.js","name":"$","original":{"line":22,"column":23},"generated":{"line":1,"column":478}},{"source":"index.js","original":{"line":22,"column":25},"generated":{"line":1,"column":480}},{"source":"index.js","name":"val","original":{"line":22,"column":40},"generated":{"line":1,"column":495}},{"source":"index.js","name":"longitude","original":{"line":23,"column":10},"generated":{"line":1,"column":501}},{"source":"index.js","name":"event","original":{"line":23,"column":22},"generated":{"line":1,"column":503}},{"source":"index.js","name":"target","original":{"line":23,"column":28},"generated":{"line":1,"column":505}},{"source":"index.js","name":"childNodes","original":{"line":23,"column":35},"generated":{"line":1,"column":512}},{"source":"index.js","original":{"line":23,"column":46},"generated":{"line":1,"column":523}},{"source":"index.js","name":"value","original":{"line":23,"column":49},"generated":{"line":1,"column":526}},{"source":"index.js","name":"latitude","original":{"line":24,"column":10},"generated":{"line":1,"column":532}},{"source":"index.js","name":"event","original":{"line":24,"column":21},"generated":{"line":1,"column":534}},{"source":"index.js","name":"target","original":{"line":24,"column":27},"generated":{"line":1,"column":536}},{"source":"index.js","name":"childNodes","original":{"line":24,"column":34},"generated":{"line":1,"column":543}},{"source":"index.js","original":{"line":24,"column":45},"generated":{"line":1,"column":554}},{"source":"index.js","name":"value","original":{"line":24,"column":48},"generated":{"line":1,"column":557}},{"source":"index.js","original":{"line":26,"column":7},"generated":{"line":1,"column":563}},{"source":"index.js","original":{"line":26,"column":7},"generated":{"line":1,"column":565}},{"source":"index.js","name":"empty","original":{"line":26,"column":29},"generated":{"line":1,"column":586}},{"source":"index.js","name":"POINT_ADDRESS","original":{"line":27,"column":10},"generated":{"line":1,"column":594}},{"source":"index.js","name":"POINT_ADDRESS","original":{"line":27,"column":10},"generated":{"line":1,"column":598}},{"source":"index.js","original":{"line":27,"column":26},"generated":{"line":1,"column":600}},{"source":"index.js","name":"parseFloat","original":{"line":27,"column":27},"generated":{"line":1,"column":601}},{"source":"index.js","name":"longitude","original":{"line":27,"column":38},"generated":{"line":1,"column":612}},{"source":"index.js","name":"parseFloat","original":{"line":27,"column":49},"generated":{"line":1,"column":615}},{"source":"index.js","name":"latitude","original":{"line":27,"column":60},"generated":{"line":1,"column":626}},{"source":"index.js","name":"geoURL","original":{"line":28,"column":10},"generated":{"line":1,"column":630}},{"source":"index.js","name":"mgm_query","original":{"line":28,"column":19},"generated":{"line":1,"column":632}},{"source":"index.js","name":"findQuery","original":{"line":28,"column":29},"generated":{"line":1,"column":634}},{"source":"index.js","name":"POINT_ADDRESS","original":{"line":28,"column":39},"generated":{"line":1,"column":644}},{"source":"index.js","name":"select_day","original":{"line":28,"column":54},"generated":{"line":1,"column":646}},{"source":"index.js","original":{"line":30,"column":21},"generated":{"line":1,"column":649}},{"source":"index.js","name":"select_day","original":{"line":30,"column":7},"generated":{"line":1,"column":652}},{"source":"index.js","name":"getPolygon2","original":{"line":31,"column":12},"generated":{"line":1,"column":654}},{"source":"index.js","name":"getPolygon2","original":{"line":31,"column":12},"generated":{"line":1,"column":656}},{"source":"index.js","name":"geoURL","original":{"line":31,"column":24},"generated":{"line":1,"column":668}},{"source":"index.js","original":{"line":31,"column":31},"generated":{"line":1,"column":670}},{"source":"index.js","name":"geoURL","original":{"line":31,"column":35},"generated":{"line":1,"column":673}},{"source":"index.js","original":{"line":31,"column":42},"generated":{"line":1,"column":675}},{"source":"index.js","name":"geoURL","original":{"line":31,"column":46},"generated":{"line":1,"column":678}},{"source":"index.js","original":{"line":31,"column":53},"generated":{"line":1,"column":680}},{"source":"index.js","name":"then","original":{"line":31,"column":57},"generated":{"line":1,"column":684}},{"source":"index.js","original":{"line":31,"column":62},"generated":{"line":1,"column":689}},{"source":"index.js","original":{"line":31,"column":74},"generated":{"line":1,"column":698}},{"source":"index.js","name":"runTimelineWeek","original":{"line":32,"column":18},"generated":{"line":1,"column":701}},{"source":"index.js","name":"runTimelineWeek","original":{"line":32,"column":18},"generated":{"line":1,"column":703}},{"source":"index.js","name":"response","original":{"line":32,"column":34},"generated":{"line":1,"column":719}},{"source":"index.js","original":{"line":32,"column":43},"generated":{"line":1,"column":721}},{"source":"index.js","name":"response","original":{"line":32,"column":46},"generated":{"line":1,"column":724}},{"source":"index.js","original":{"line":32,"column":55},"generated":{"line":1,"column":726}},{"source":"index.js","name":"response","original":{"line":32,"column":59},"generated":{"line":1,"column":729}},{"source":"index.js","original":{"line":32,"column":68},"generated":{"line":1,"column":731}},{"source":"index.js","name":"mapBase","original":{"line":32,"column":72},"generated":{"line":1,"column":734}},{"source":"index.js","name":"POINT_ADDRESS","original":{"line":32,"column":81},"generated":{"line":1,"column":736}},{"source":"index.js","name":"select_day","original":{"line":34,"column":13},"generated":{"line":1,"column":741}},{"source":"index.js","original":{"line":34,"column":26},"generated":{"line":1,"column":743}},{"source":"index.js","name":"getPolygon","original":{"line":35,"column":12},"generated":{"line":1,"column":745}},{"source":"index.js","name":"getPolygon","original":{"line":35,"column":12},"generated":{"line":1,"column":747}},{"source":"index.js","name":"geoURL","original":{"line":35,"column":23},"generated":{"line":1,"column":758}},{"source":"index.js","name":"then","original":{"line":35,"column":31},"generated":{"line":1,"column":761}},{"source":"index.js","original":{"line":35,"column":36},"generated":{"line":1,"column":766}},{"source":"index.js","original":{"line":35,"column":48},"generated":{"line":1,"column":775}},{"source":"index.js","name":"runTimelineDay","original":{"line":36,"column":18},"generated":{"line":1,"column":778}},{"source":"index.js","name":"runTimelineDay","original":{"line":36,"column":18},"generated":{"line":1,"column":780}},{"source":"index.js","name":"response","original":{"line":36,"column":33},"generated":{"line":1,"column":795}},{"source":"index.js","name":"mapBase","original":{"line":36,"column":42},"generated":{"line":1,"column":797}},{"source":"index.js","name":"POINT_ADDRESS","original":{"line":36,"column":51},"generated":{"line":1,"column":799}},{"source":"index.js","name":"log","original":{"line":39,"column":14},"generated":{"line":1,"column":804}},{"source":"index.js","name":"log","original":{"line":39,"column":14},"generated":{"line":1,"column":812}},{"source":"index.js","original":{"line":39,"column":18},"generated":{"line":1,"column":816}},{"source":"index.js","name":"tableQueries","original":{"line":42,"column":14},"generated":{"line":1,"column":843}},{"source":"index.js","name":"tableQueries","original":{"line":42,"column":14},"generated":{"line":1,"column":845}},{"source":"index.js","name":"POINT_ADDRESS","original":{"line":42,"column":27},"generated":{"line":1,"column":858}},{"source":"index.js","name":"select_day","original":{"line":42,"column":42},"generated":{"line":1,"column":860}},{"source":"index.js","name":"centerAddress","original":{"line":43,"column":12},"generated":{"line":1,"column":863}},{"source":"index.js","name":"centerAddress","original":{"line":43,"column":12},"generated":{"line":1,"column":865}},{"source":"index.js","name":"mapBase","original":{"line":43,"column":26},"generated":{"line":1,"column":879}},{"source":"index.js","name":"map","original":{"line":43,"column":34},"generated":{"line":1,"column":881}},{"source":"index.js","name":"POINT_ADDRESS","original":{"line":43,"column":39},"generated":{"line":1,"column":885}},{"source":"index.js","original":{"line":45,"column":6},"generated":{"line":1,"column":888}},{"source":"index.js","original":{"line":45,"column":6},"generated":{"line":1,"column":890}},{"source":"index.js","name":"css","original":{"line":45,"column":22},"generated":{"line":1,"column":906}},{"source":"index.js","original":{"line":45,"column":26},"generated":{"line":1,"column":910}},{"source":"index.js","original":{"line":45,"column":36},"generated":{"line":1,"column":920}},{"source":"index.js","name":"topQueries","original":{"line":46,"column":14},"generated":{"line":1,"column":929}},{"source":"index.js","name":"topQueries","original":{"line":46,"column":14},"generated":{"line":1,"column":931}},{"source":"index.js","name":"select_day","original":{"line":46,"column":25},"generated":{"line":1,"column":942}}],"sources":{"index.js":"//Classes\nimport MapBBB from './classes/map';\nimport LayerBBB from './classes/layer';\nimport MgmQuery from './classes/mgm_query';\n\n\nconst mapBase = new MapBBB();\nconst layer = new LayerBBB();\nconst mgm_query = new MgmQuery();\nmapBase.createBaseMap();\n\n  $(\"#btn_timeline\").click(function(event){\n  event.preventDefault();\n  const search_address = $('#search_address').val();\n  $( \"#list_suggestions\" ).empty();\n  \n\n  mapBase.removeOldAddress(mapBase.map);\n  mgm_query.addressCoord(search_address);\n\n  $(\"#list_suggestions\").on(\"click\", \"li #element\", function(event){  \n    const select_day = $('#select_day').val();\n    const longitude = event.target.childNodes[1].value;\n    const latitude = event.target.childNodes[3].value;\n    \n    $( \"#list_suggestions\" ).empty();\n    const POINT_ADDRESS = [parseFloat(longitude),parseFloat(latitude)];\n    const geoURL = mgm_query.findQuery(POINT_ADDRESS, select_day);\n\n    if(select_day == 0){\n      layer.getPolygon2(geoURL[0], geoURL[1], geoURL[2]).then(response => {\n        mgm_query.runTimelineWeek(response[0],response[1], response[2], mapBase, POINT_ADDRESS);\n      });\n    }else if(select_day > 0){\n      layer.getPolygon(geoURL).then(response => {\n        mgm_query.runTimelineDay(response,mapBase, POINT_ADDRESS);\n      });\n    }else {\n      console.log(\"Error choosing timeline\");\n    }\n \n    mgm_query.tableQueries(POINT_ADDRESS, select_day);\n    mapBase.centerAddress(mapBase.map, POINT_ADDRESS);\n\n    $('#btnModalTop').css('display','block');\n    mgm_query.topQueries(select_day);\n  });\n});\n\n"},"lineCount":null}},"hash":"ab0574aadc00dd2b49d00d07d599a04e","cacheData":{"env":{}}}